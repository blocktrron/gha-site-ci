{
	hostname_prefix => 'freifunk',
	site_name => 'Freifunk Darmstadt',
	site_code => 'ffda',
	release => '0.4+0-exp' . nightly,

	prefix4 => '10.223.0.0/20', # ipv4 prefix für rdnss, und route von next_node, ansonsten ungenutzt
	prefix6 => 'fdca:ffee:ffda::/64', # ipv6 prefix, dass via radvd announced wird

	timezone => 'CET-1CEST,M3.5.0,M10.5.0/3', # Europe/Berlin
	ntp_servers => ['0.ntp.ffda'],
	regdom => 'DE',

	wifi24 => {
		ssid => 'darmstadt.freifunk.net',
		channel => 1,
		htmode => 'HT40+',
		mesh_ssid => '02:d1:11:37:fc:38',
		mesh_bssid => '02:d1:11:37:fc:38',
		mesh_mcast_rate => 12000,
	},
	wifi5 => {
		ssid => 'darmstadt.freifunk.net (5GHz)',
		channel => 44,
		htmode => 'HT40+',
		mesh_ssid => '02:d1:11:37:fc:38',
		mesh_bssid => '02:d1:11:37:fc:38',
		mesh_mcast_rate => 12000,
	},

	# next_node ist der access point, mit dem man gerade verbunden ist
	# quasi anycast foo
	next_node => {
		ip4 => '10.223.0.1',
		ip6 => 'fdca:ffee:ffda::ffff',

		mac => '16:41:95:40:f7:dc',
	},

	fastd_mesh_vpn => {
		methods => ['salsa2012+gmac'],
		mtu => 1426,
		backbone => {
			limit => 2,
			peers => {
				hexa => {
					key => '866b037df773e6221ad58fabeba7dde00ecb016d4c142ac0ca76ef6a02722bb9',
					remotes => ['ipv4 "linuxlounge.net" port 3332'],
				},
				fleaz => {
					key => 'cd6f506ef59123d216028d338749783db8038dec010b418dc0129aa35dc4dafa',
					remotes => ['ipv4 "rainbownerds.de" port 3332'],
				},
				fleaz2 => {
					key => 'df1c7e1bc41f20cb0252a7b95f095b82cce093e03cd32f633ada70123a7237c4',
					remotes => ['ipv4 "felixbreidenstein.de" port 3332'],
				},
				redhood => {
					key => 'f96ca591b5df2a1c2e9f238ae131a374053e32ce492afa4c9a6765ac53b49cc4',
					remotes => ['ipv4 "fastd.iqtopia.de" port 3332'],
				},
			},
		},
	},

	autoupdater => {
		enabled => 1,
		branch => 'experimental',
		branches => {
			stable => {
				name => 'stable',
				mirrors => ['http://updates.ffda/stable/sysupgrade'],
				probability => 0.08,
				good_signatures => 3,
				pubkeys => [
					'c8e33aa86b1d3ad894d744d76232fa6325efb63672c3b972bb91f5197e2a96f9', # hexa-
					'0e77902b7b09896d7ff7ef4d0b8c92589a6d877e4df4181b89608803b0f13e4d', # fleaz
				],
			},
			beta => {
				name => 'beta',
				mirrors => ['http://updates.ffda/beta/sysupgrade'],
				probability => 0.08,
				good_signatures => 2,
				pubkeys => [
					'c8e33aa86b1d3ad894d744d76232fa6325efb63672c3b972bb91f5197e2a96f9', # hexa-
					'0e77902b7b09896d7ff7ef4d0b8c92589a6d877e4df4181b89608803b0f13e4d', # fleaz
				],
			},
			experimental => {
				name => 'experimental',
				mirrors => ['http://updates.ffda/experimental/sysupgrade'],
				probability => 1.00,
				good_signatures => 1,
				pubkeys => [
					'c8e33aa86b1d3ad894d744d76232fa6325efb63672c3b972bb91f5197e2a96f9', # hexa-
					'0e77902b7b09896d7ff7ef4d0b8c92589a6d877e4df4181b89608803b0f13e4d', # fleaz
				],
			},
		},
	},

	simple_tc => {
		mesh_vpn => {
			ifname => 'mesh-vpn',
			enabled => 0,
			limit_egress => 200,
			limit_ingress => 3000,
		},
	},


	config_mode => {
		msg_welcome => <<'END',
Willkommen zum Einrichtungsassistenten für deinen neuen Darmstädter
Freifunk-Knoten. Fülle das folgende Formular deinen Vorstellungen
entsprechend aus und sende es ab.
END
		msg_pubkey => <<'END',
Dies ist der öffentliche Schlüssel deines Freifunkknotens. Erst nachdem
er auf den Servern des Darmstädter Freifunk-Projektes eingetragen wurde,
kann sich dein Knoten mit dem Mesh-VPN verbinden. Bitte
schicke dazu diesen Schlüssel und den Namen deines Knotens
(<em><%=hostname%></em>) an
<a href="mailto:keys@freifunk-darmstadt.de">keys@freifunk-darmstadt.de</a>.
END
		msg_reboot => <<'END',
<p>
Dein Knoten startet gerade neu und wird anschließend versuchen,
sich anschließend mit anderen Freifunkknoten in seiner Nähe zu
verbinden. Weitere Informationen zur
Darmstädter Freifunk-Community findest du auf
<a href="https://darmstadt.freifunk.net/">unserer Webseite</a>.
</p>
<p>
Viel Spaß mit deinem Knoten und der Erkundung von Freifunk!
</p>
END
	},

}
